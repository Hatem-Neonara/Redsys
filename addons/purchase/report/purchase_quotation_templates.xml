<odoo>

    <template id="report_purchasequotation_document">
        <t t-call="web.external_layout">

            <t t-set="o" t-value="o.with_context(lang=o.partner_id.lang)"/>
            <t t-set="forced_vat"
               t-value="o.fiscal_position_id.foreign_vat"/> <!-- So that it appears in the footer of the report instead of the company VAT if it's set -->

            <div class="page">
                <div class="oe_structure"/>

                <!-- Header section with logo and company info -->

                <div style="margin-top: 0%;">

                    <div style=" text-align: center; color: #4156A6; font-size: 200%; font-weight: bold">
                        <span t-field="o.name"/>
                    </div>
                </div>

                <br/>
                <br/>
                <!-- Order information -->
                <div class="row mt-4 mb-4" id="informations">
                    <div t-if="o.date_order" class="col-auto col-3 mw-100 mb-2">
                        <strong>Date RFQ :</strong>
                        <span t-field="o.date_order" t-options='{"widget": "date"}' t-if="o.date_order"/>
                    </div>
                    <div t-if="o.date_planned" class="col-auto col-3 mw-100 mb-2">
                        <strong>Date Réception Prévue :</strong>
                        <span t-field="o.date_planned"/>
                    </div>
                    <div t-if="o.user_id" class="col-auto col-3 mw-100 mb-2">
                        <strong>Responsable Achat :</strong>
                        <span t-field="o.user_id"/>
                    </div>
                </div>

                <br/>
                <br/>

                <table class="table table-sm mt-4">
                    <thead>
                        <tr>
                            <th name="th_barcode">
                                <strong>P.N.</strong>
                            </th>
                            <th name="th_description">
                                <strong>Description</strong>
                            </th>
                            <th name="th_quantity" class="text-end">
                                <strong>Qty</strong>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="o.order_line" t-as="order_line">
                            <tr t-att-class="'bg-200 fw-bold o_line_section' if order_line.display_type == 'line_section' else 'fst-italic o_line_note' if order_line.display_type == 'line_note' else ''">
                                <t t-if="not order_line.display_type">
                                    <td id="barcode">
                                        <span t-field="order_line.barcode"/>
                                    </td>

                                    <td id="product">
                                        <span t-field="order_line.name"/>
                                    </td>

                                    <td class="text-end">
                                        <span t-field="order_line.product_qty"/>
                                        <span t-field="order_line.product_uom" groups="uom.group_uom"/>
                                        <span t-if="order_line.product_packaging_id">
                                            (
                                            <span t-field="order_line.product_packaging_qty"
                                                  t-options='{"widget": "integer"}'/>
                                            <span t-field="order_line.product_packaging_id"/>)
                                        </span>
                                    </td>
                                </t>
                                <t t-else="">
                                    <td colspan="99" id="section">
                                        <span t-field="order_line.name"/>
                                    </td>
                                </t>
                            </tr>
                        </t>
                    </tbody>
                </table>

                <p t-field="o.notes" class="mt-4"/>

                <!-- Signature section -->


                <div class="oe_structure"/>
            </div>
        </t>
    </template>

    <template id="report_purchasequotation">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="purchase.report_purchasequotation_document" t-lang="o.partner_id.lang"/>
            </t>
        </t>
    </template>


</odoo>